<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<title>Menu Especies</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="css/default.css" />

<script type="text/javascript"
	src="http://code.jquery.com/jquery-1.4.4.js"></script>	
	
<script type="text/javascript">

	$(document).ready(function() {

		$(".elemento").click(function(event) {
			$target = $(event.target).parent();

			if ($("#" + $target.attr("id")).children("ul").is(":visible")) {
				$("#" + $target.attr("id")).children("ul").remove();
			} else {
				$.getJSON("service.do?id="+$target.attr("id")+"&rank="+$target.attr("rank"),
					function(data){
					
						$.each(data, function(i, taxon){
							$target.append("<ul><li id="+taxon.id+" rank="+taxon.rankID+
									" class=elemento><a href=# >"+taxon.canonical+"</a></li></ul>");
				        });
					}
				);
			}
			return false;
		});
	});


</script>
</head>
<body onload="">
<div id="contenido-demo">
<h2>Species Menu</h2>

<ul class="navegador">
	<li id="1" rank="1000" class="elemento"><a href="#">Animalia</a></li>
	<li id="30" rank="1000" class="elemento"><a href="#">Plantae</a></li>
</ul>
</div>

</body>
</html>