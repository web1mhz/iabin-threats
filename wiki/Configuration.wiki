#summary How to build the ITA data filtering tool
#sidebar TableOfContents

[http://code.google.com/p/iabin-threats/wiki/Configuration?wl=en http://iabin-threats.googlecode.com/svn/wiki/resources/gb.gif]
[http://code.google.com/p/iabin-threats/wiki/Configuration?wl=es http://iabin-threats.googlecode.com/svn/wiki/resources/es.gif]

== Introduction ==

This is a technical document and is intended to people who has relation with the technical implementation of the project.

The purpose of this document is to illustrate how to build the project from the source code of this repository.

== Technical Requirements ==

	* To this point, the project must be imported, edited and packaged. (see How [http://code.google.com/p/iabin-threats/wiki/HowToBuildITA How To Build ITA] section)
	* 250GB-500GB of HD space available for database (while importing process), 30GB for shape files and bioclimatic variables files. 
	* Latest version of JRE, available for free at [http://www.java.com http://www.java.com] 
	* MySQL database server 
  		# GBIF database mounted and configured based on the attached file named my.cnf.  You should change the datadir and tmpdir parameters


== Configuring MySQL Database ==
You can use any other configuration. However, we recomend the following configuration:

 											|| my.cnf ||

<table border="1">		
		<tr>	
			<td>
			{{{[mysqld]}}}
			
			{{{#datadir=/var/lib/mysql}}}
			 
			{{{datadir=/media/Lacie_Disk/mysql}}}
			
			{{{tmpdir=/media/Lacie_Disk/mysql_temp}}}
			
			{{{socket=/var/lib/mysql/mysql.sock}}}<br />
			{{{user=mysql}}}<br />
			{{{# Default to using old password format for compatibility with mysql 3.x}}}<br /> 
			{{{# clients (those using the mysqlclient10 compatibility package).}}} <br />
			{{{old_passwords=1}}} <br />
			{{{#bind-address=0.0.0.0}}} <br />
			{{{port=3306}}} <br />
			{{{max_allowed_packet = 1M}}}<br /> 
			{{{table_cache = 512}}} <br />
			{{{sort_buffer_size = 128M}}}<br /> 
			{{{read_buffer_size = 64M}}} <br />
			{{{read_rnd_buffer_size = 300M}}}<br /> 
			{{{thread_cache_size = 8}}} <br />
			{{{query_cache_type = 0}}} <br />
			{{{query_cache_size = 0}}} <br />
			{{{thread_concurrency = 16}}} <br />
			{{{myisam_max_sort_file_size = 250G}}}<br /> 
			{{{myisam_max_extra_sort_file_size = 250G}}}<br /> 
			{{{# this is used for repair by sorting}}} <br />
			{{{myisam_sort_buffer_size = 3990M}}} <br />
			{{{# maximum value for this is 4g for now!}}} <br />
			{{{key_buffer_size=3990M}}} <br />
			{{{tmp_table_size=512M}}} <br />
			{{{max_heap_table_size=512M}}}<br /> 
			<br />  
			{{{[mysqld_safe]}}}<br /> 
			{{{log-error=/var/log/mysqld.log}}}<br /> 
			{{{pid-file=/var/run/mysqld/mysqld.pid}}}<br />
			</td>
			</tr>
			
</table>

== Configuring Files ==

The project needs some extra XML files that should be configured before start to run it (*client_config.xml* and *server_config.xml*).

As the _svn_ command doesn't import these files, ITA project can generate them assigning default values that you should change later, depending of your file system and your personal configuration.

run the following commands:

     {{{java -jar ita-0.1-SNAPSHOT.jar org.ciat.ita.client.ClientConfig}}}

     {{{java -jar ita-0.1-SNAPSHOT.jar org.ciat.ita.server.ServerConfig}}}

Both XML should have been created.

|| client_config.xml ||

{{{<?xml version="1.0" encoding="UTF-8"?>}}}<br />
{{{<config>}}}<br />
  {{{<server ip_addr="localhost" communication_type="LOCAL" />}}}<br />
  {{{<Proxy>}}}<br />
    {{{<HttpProxy server="proxy4.ciat.cgiar.org" port="8080" />}}}<br />
  {{{</Proxy>}}}<br />
  {{{<work records="10000" />}}}<br />
  {{{<shape path="/GADM_v0-6.shp">}}}<br />
    {{{<column name="ISO">ISO</column>}}}<br />
    {{{<column name="country">ISOCOUNTRY</column>}}}<br />
    {{{<column name="state">NAME_1</column>}}}<br />
    {{{<column name="county">NAME_2</column>}}}<br />
  {{{</shape>}}}<br />
  {{{<mask path="/inland_msk.jgm" />}}}<br />
  {{{<maxent>}}}<br />
    {{{<file name="maxent_file" type="jar" path="/maxent.jar" />}}}<br />
    {{{<file name="sample_dir" type="directory" path="/samples/" />}}}<br />
    {{{<file name="backgroung_file" type="csv" path="/background_clm.csv" />}}}<br />
    {{{<file name="lambda_output_dir" type="directory" path="/lambda_output/" />}}}<br />
    {{{<file name="final_output_dir" type="directory" path="/final_output/" />}}}<br />
    {{{<file name="bio_variables_dir" type="directory" path="/small_variables/" />}}}<br />
  {{{</maxent>}}}<br />
  {{{<variables type="bioclimatic" path="/variables/">}}}<br />
    {{{<variable>alt</variable>}}}<br />
    {{{<variable>bio_1</variable>}}}<br />
    {{{<variable>bio_2</variable>}}}<br />
    {{{<variable>bio_3</variable>}}}<br />
    {{{<variable>bio_4</variable>}}}<br />
    {{{<variable>bio_5</variable>}}}<br />
    {{{<variable>bio_6</variable>}}}<br />
    {{{<variable>bio_7</variable>}}}<br />
    {{{<variable>bio_8</variable>}}}<br />
    {{{<variable>bio_9</variable>}}}<br />
    {{{<variable>bio_10</variable>}}}<br />
    {{{<variable>bio_11</variable>}}}<br />
    {{{<variable>bio_12</variable>}}}<br />
    {{{<variable>bio_13</variable>}}}<br />
    {{{<variable>bio_14</variable>}}}<br />
    {{{<variable>bio_15</variable>}}}<br />
    {{{<variable>bio_16</variable>}}}<br />
    {{{<variable>bio_17</variable>}}}<br />
    {{{<variable>bio_18</variable>}}}<br />
    {{{<variable>bio_19</variable>}}}<br />
  {{{</variables>}}}<br />
{{{</config>}}}<br />
 